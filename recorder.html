<!DOCTYPE html>
<html>
<head>
    <title>Audio Recorder</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        #controls {
            margin-top: 20px;
        }
        button {
            margin-right: 10px;
        }
        #download {
            display: none;
        }
    </style>
</head>
<body>
    <h1>Audio Recorder</h1>
    <div id="controls">
        <button id="start">Start Recording</button>
        <button id="stop">Stop Recording</button>
        <a id="download" download="recording.wav">Download</a>
    </div>
    <script>
        let chunks = [];
        let recorder;

        document.getElementById('start').onclick = async () => {
            const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
            recorder = new MediaRecorder(stream);
            recorder.ondataavailable = e => chunks.push(e.data);
            recorder.onstop = () => {
                const blob = new Blob(chunks, { type: 'audio/wav' });
                chunks = [];
                const url = URL.createObjectURL(blob);
                const a = document.getElementById('download');
                a.href = url;
                a.style.display = 'block'; // Show download link
            };
            recorder.start();
        };

        document.getElementById('stop').onclick = () => {
            if (recorder) {
                recorder.stop();
            }
        };
    </script>
</body>
</html>
